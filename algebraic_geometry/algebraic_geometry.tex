\documentclass[11pt]{book}

% Language and font encoding
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}

\usepackage{csquotes}

% Mathematics packages
\usepackage{amsmath, amssymb, amsthm, amsfonts, mathtools}
\usepackage{mathrsfs} % For script fonts

% Theorem environments
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}

\newtheorem{exercise}{Exercise}[section]
\newenvironment{solution}
  {\renewcommand{\qedsymbol}{}\begin{proof}[Solution]}
  {\end{proof}}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{intuition}[theorem]{Intuition}

% Definition & Theorem Boxes
\usepackage{tcolorbox}
\newtcolorbox{defbox}{colback=blue!5!white,colframe=blue!75!black}
\newtcolorbox{defboxlight}{colback=cyan!5!white,colframe=cyan!75!black}
\newtcolorbox{thmbox}{colback=orange!5!white,colframe=orange!75!black}
\newtcolorbox{rembox}{colback=purple!5!white,colframe=purple!75!black}
\newtcolorbox{exmbox}{colback=gray!5!white,colframe=gray!75!black}
\newtcolorbox{intbox}{colback=violet!5!white,colframe=violet!75!black}

% Numbering and cross-referencing
\numberwithin{equation}{section}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    citecolor=blue,
    pdftitle={Algebraic Geometry Notes},
    pdfpagemode=FullScreen,
}

% Commutative diagrams
\usepackage{tikz-cd}

% Margins and spacing
\usepackage[a4paper, left=1in, right=1in, top=1in, bottom=1in]{geometry}
\usepackage{setspace}
\onehalfspacing

% Custom commands
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\Pp}{\mathbb{P}}
\newcommand{\OO}{\mathcal{O}}
\newcommand{\Spec}{\text{Spec}}
\newcommand{\Proj}{\text{Proj}}
\newcommand{\Hom}{\text{Hom}}
\newcommand{\Ext}{\text{Ext}}
\newcommand{\Tor}{\text{Tor}}
\newcommand{\End}{\text{End}}
\newcommand{\sheafhom}{\mathscr{H}\kern -.5pt om}
\newcommand{\sheafext}{\mathscr{E}\kern -.5pt xt}

\newcommand{\set}[1]{\left\{\, #1 \,\right\}}
\newcommand{\makeset}[2]{\left\{\, #1 \mathrel{\mid} #2 \,\right\}}

% For including graphics
\usepackage{graphicx}

% Packages for better tables
\usepackage{booktabs}
\usepackage{array}

% Bibliography
\usepackage[backend=biber, style=alphabetic, citestyle=numeric]{biblatex}

% hyperlinks
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }


% Specify your .bib file
\addbibresource{references.bib}

% Title and author information
\title{Notes on Algebraic Geometry}
\author{Kei Thoma}
\date{\today}

\begin{document}

\maketitle
\tableofcontents

\cite{hartshorne1977}
\newpage
\input{pre.tex}

\part{Algebraic Geometry}
\chapter{Affine Varieties}
\section*{Cheat Sheet}
\begin{defbox}
    \begin{definition}
        \begin{enumerate}
            \item The affine \(n\)-space \(\mathbb{A}^n\) over an algebraically closed field \(K\) is the set of all \(n\)-tuples of elements of \(K\).
            \item For a subset \(S \subset K[X_1, \ldots, X_n1]\), we define the zero-locus as
            \begin{align*}
                    Z(S) = \makeset{x \in \mathbb{A}^n}{f(x) = 0 \text{ for all } f \in S} \text{.}
            \end{align*}
            \item A subset \(V \subset \mathbb{A}^n\) is an algebraic set if there exists a subset \(S \subset K[X_1, \ldots, X_n]\) such that \(V = Z(S)\).
        \end{enumerate}
    \end{definition}
\end{defbox}
\begin{defbox}
    \begin{definition}
        \begin{enumerate}
            \item Zariski topology.
            \item Irreducible
        \end{enumerate}
    \end{definition}
\end{defbox}
\newpage
\section*{Full Text}
\subsection*{Algebraic Sets}
\begin{defbox}
    \begin{definition}
        Let \(K\) be an algebraically closed field and let \(n \in \mathbb{N}_0\) be a natural number.
        \begin{enumerate}
            \item The affine \(n\)-space over \(K\) is the set of all \(n\)-tuples of elements of \(K\).
            \item An element \(p\) in \(\mathbb{A}^n\) is called a point.
            \item If \(p = (a_1, \ldots, a_n) \in \mathbb{A}^n\) is a point, then \(a_i\) is called the coordinate for each \(1 \leq i \leq n\).
        \end{enumerate}
    \end{definition}
\end{defbox}

\begin{intbox}
\begin{intuition}
It's just space with points. But not vectors, because we don't add points.
\end{intuition}
\end{intbox}

\begin{defbox}
    \begin{definition}
        For each subset \(S\) of polynomials in \(K[X_1, \ldots, X_n]\), we define the zero-locus \(Z(S)\) to be the set of points in the affine \(n\)-space \(\mathbb{A}^n\) on which the functions in \(S\) simultaneously vanish, i.e.
        \begin{align*}
            Z(S) = \makeset{x \in \mathbb{A}^n}{f(x) = 0 \text{ for all } f \in S} \text{.}
        \end{align*}
    \end{definition}
\end{defbox}

\begin{intbox}
    \begin{intuition}
        These are just curves.
    \end{intuition}
\end{intbox}

\begin{rembox}
\begin{remark}
    \begin{enumerate}
        \item If \(\mathfrak{a}\) is generated by \(T\), then \(Z(T) = Z(\mathfrak{a})\).
        \item \(Z(T)\) can be written in finitely many generators.
    \end{enumerate}
\end{remark}
\end{rembox}


\begin{defbox}
    \begin{definition}[Algebraic Set]
        \label{def:algebraic_set}
        A subset \(V\) of \(\mathbb{A}^n\) is an algebraic set if there exists a subset \(S \subset k[X_1, \ldots, X_n]\) such that \(V = Z(S)\).
    \end{definition}
\end{defbox}
\begin{intbox}
    \begin{intuition}
        So if the points on the space is a curve, then it's an algebraic set.
    \end{intuition}
\end{intbox}
\newpage
\subsection*{Zariski Topology}
\begin{defbox}
    \begin{definition}
        Zariski topology on \(\mathbb{A}^n\). Closed sets are algebraic sets.
    \end{definition}
\end{defbox}
\begin{defbox}
    \begin{definition}
        Irreducible subsets
    \end{definition}
\end{defbox}
\newpage
\subsection*{Affine Algebraic Variety}

\begin{defbox}
    \begin{definition}
        \label{def:algebraic_variety}
        An affine algebraic variety is an irreducible closed subset of \(\mathbb{A}^n\). An open subset of an affine variety is a quasi-affine variety.
    \end{definition}
\end{defbox}
\begin{thmbox}
    \begin{proposition}[1.2.]
        
    \end{proposition}
\end{thmbox}
\begin{thmbox}
    \begin{theorem}[Hilbert's Nullstellensatz]
        
    \end{theorem}
\end{thmbox}

\begin{thmbox}
    \begin{corollary}
        \label{cor:ideal_correspondence}
        % TODO
        An algebraic set is irreducible if and only if its ideal is a prime ideal.
    \end{corollary}
\end{thmbox}

\newpage
\subsection*{Affine Coordinate Ring}

\begin{defbox}
    \begin{definition}
        \label{def:affine_coordinate_ring}
        If \(Y \subset \mathbb{A}^n\) is an affine algebraic set, we define the affine coordinate ring \(A(Y)\) of \(Y\), to be \(A / I(Y)\). 
    \end{definition}
\end{defbox}

\newpage
\subsection*{Dimension}
%
%
%
\begin{defbox}
    \begin{definition}[Noetherian Topological Space]
        A topological space \(X\) is called Noetherian if it satisfies the descending chain condition for closed subsets, i.e. for any sequence \(\mathcal{V}_1 \supset \mathcal{V}_2 \supset \cdots\) becomes stationary.
    \end{definition}
\end{defbox}
\begin{thmbox}
    \begin{proposition}[1.5.]
        In a Noetherian topological space \(X\), every nonempty closed subset \(\mathcal{V}\) can be expressed as finite union of irreducible, closed subsets.
    \end{proposition}
\end{thmbox}
\begin{thmbox}
    \begin{corollary}
        Every algebraic set in \(\mathbb{A}^n\) can be expressed uniquely as a union of varieties, no one containing another.
    \end{corollary}
\end{thmbox}
\begin{defbox}
    \begin{definition}[Dimension of a Topological Space]
        
    \end{definition}
\end{defbox}
\begin{defbox}
    \begin{definition}[Height of a Prime Ideal]
        
    \end{definition}
\end{defbox}
\begin{defbox}
    \begin{definition}[Dimension of a Ring]
        
    \end{definition}
\end{defbox}
\begin{thmbox}
    \begin{theorem}
        Let \(K\) be a field, and let \(B\) be an integral domain which is a finitely generated \(K\)-algebra. Then:
        \begin{enumerate}
            \item the dimension of \(B\) is equal to the transcendence degree of the quotient field \(K(B)\) of \(B\) over \(K\)
            \item For any prime ideal \(\mathfrak{p}\) in \(B\), we have
            \begin{align*}
                \text{height} \mathfrak{p} + \text{dim} B / \mathfrak{p} = \text{dim} B
            \end{align*}
        \end{enumerate}
    \end{theorem}
\end{thmbox}
% #BOOKMARK
BOOKMARK
\newline
\rule{\textwidth}{0.4pt}
\newline
\newpage
\begin{defbox}
    \begin{definition}[Affine Algebraic Variety]
        For an algebraically closed field \(K\) and a natural number \(n \in \mathbb{N}_+\), let \(\mathbb{A}^n\), be an affine \(n\)-space over \(K\). The polynomials in \(K[X_1, \ldots, X_n]\) can be viewed as \(K\)-valued functions on \(\mathbb{A}^n\).
        \begin{enumerate}
            \item For each subset \(S\) of polynomials in \(K[X_1, \ldots, X_n]\), define the zero-locus \(Z(S)\) to be the set of points in \(\mathbb{A}^n\) on which the functions in \(S\) simultaneously vanish, i.e.
            \begin{align*}
                Z(S) = \makeset{x \in \mathbb{A}^n}{f(x) = 0 \text{ for all } f \in S} \text{.}
            \end{align*}
            \item A subset \(V\) of \(\mathbb{A}^n\) is called affine agebraic set if \(V = Z(S)\) for some \(S \subset K[X_1, \ldots, X_n]\).
            \item A nonempty affine algebraic set is called irreducible if it is not the union of two proper algebraic subsets. An irreducible affine algebraic set is also called an affine variety.
        \end{enumerate}
    \end{definition}
\end{defbox}



\begin{defbox}
    \begin{definition}
        \label{def:dimension_topological_space}
        If \(X\) is a topological space, we define the dimension of \(X\) (denoted
        \(\dim  X\)) to be the supremum of all integers n such that there exists a chain \(Z_0 \subset Z_1 \subset \cdots \subset Z_n\) of distinct irreducible closed subsets of X. We define the dimension of an affine or quasi-affine variety to be its dimension as a topological space. 
    \end{definition}
\end{defbox}

\input{chapter1_exercises.tex}

\chapter{Projective Varieties}

\chapter{Morphisms}

\begin{defbox}
    \begin{definition}
        Let \(X\) be a quasi-affine variety in \(\mathbb{A}^n_K\) and \(f: X \rightarrow K\) a function.
        \begin{enumerate}
            \item \(f\) is regular at a point \(p \in X\) if there is an open neighborhood \(\mathcal{U} \subset X\) of \(p\), and polynomials \(g, h \in K[X_1, \ldots, X_n]\), such that \(h(x) \neq 0\) for all \(x \in \mathcal{U}\), and \(f = g/h\) on \(\mathcal{U}\).
            \item \(f\) is regular on \(X\) if it is regular at every point on \(X\).
        \end{enumerate}
    \end{definition}
\end{defbox}
\begin{thmbox}
    \begin{lemma}
        A regular function is continuous, when \(K\) is identified with \(\mathbb{A}^1_K\) in its Zariski topology.
    \end{lemma}
\end{thmbox}
\begin{defbox}
    \begin{definition}[Germ]
        Given a point \(p\) of a topological space \(X\), and two maps \(f, g: X \rightarrow Y\) where \(Y\) is any set, then \(f\) and \(g\) define the same germ at \(p\) if there is a neighbourhood \(\mathcal{U}\) of \(p\) such that restricted to \(\mathcal{U}\), \(f\) and \(g\) are equal, i.e.
        \begin{align*}
            f(x) = g(x) \text{ for all } u \in \mathcal{U} \text{.}
        \end{align*}
    \end{definition}
\end{defbox}
\begin{defbox}
    \begin{definition}
        Let \(X\) be a variety.
        \begin{enumerate}
            \item We denote the ring of all regular functions on \(X\) by \(\mathcal{O}(X)\).
            \item If \(p\) is a point on \(X\), we define the local ring of \(p\) on \(X\), \(\mathcal{O}_p\) to be the ring of germs of regular functions on \(X\) near \(p\). In other words, an element of \(\mathcal{O}_p\) is a pair \((\mathcal{U}, f)\) where \(\mathcal{U}\) is an open subset of \(X\) containing \(p\), and \(f\) is a regular function on \(\mathcal{U}\), and where we identify two such pairs \((\mathcal{U}, f)\) and \((\mathcal{V}, g)\) if \(f = g\) on \(\mathcal{U} \cap \mathcal{V}\).
        \end{enumerate}
    \end{definition}
\end{defbox}

\begin{thmbox}
    \begin{theorem}
        Let \(X \subset \mathbb{A}^n\) be an affine variety.
        \begin{enumerate}
            \item The ring of all regular functions on \(X\) is isomorphic to the coordinate ring of \(X\), i.e.
            \begin{align*}
                \mathcal{O}(X) \cong A(X) \text{.}
            \end{align*}
            \item There is a one-to-one correspondence between the points of \(X\) and the maximal ideals of \(A(Y)\).
            \item The localization of the ring of all regular functions at \(p \in X\)
        \end{enumerate}
    \end{theorem}
\end{thmbox}

\printbibliography
\end{document}