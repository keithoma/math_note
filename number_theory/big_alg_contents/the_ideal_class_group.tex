\begin{defbox}
    \begin{definition}[Fractional Ideals]
        Let \(R\) be a integral domain with fraction field \(F\). A fractional ideal is a nonzero \(R\)-submodule \(\mathcal{A} \subseteq F\) such that \(d \mathcal{A} \subseteq R\) for some nonzero \(d \in A\).
    \end{definition}
\end{defbox}

\begin{rembox}
    \begin{remark}
        We say integral ideals of \(R\) and simply mean ideals of \(R\) to distinguish them from fractional ideals which are, despite its name and similarities, not true ideals.
    \end{remark}
\end{rembox}

\begin{defbox}
    \begin{definition}[Equivalence of Fractional Ideals]
        Let \(R\) be a integral domain. Two fractional ideals \(\mathcal{A}\) and \(\mathcal{B}\) of \(R\) are said to be equivalent if there exist \(\alpha\) and \(\beta\) in \(R\) such that
        \begin{align*}
            (\alpha) \mathcal{A} = (\beta) \mathcal{B} \text{.}
        \end{align*}
        In this case, we write \(\mathcal{A} \sim \mathcal{B}\) or simply \(\mathcal{A} = \mathcal{B}\).
    \end{definition}
\end{defbox}
\begin{thmbox}
    \begin{proposition}
        The relation defined above \(\mathcal{A} \sim \mathcal{B}\) is indeed a equivalence relation.
    \end{proposition}
\end{thmbox}
\begin{proof}
    Let \(\mathcal{A}\) and \(\mathcal{B}\) be two fractional ideals of an integral domain \(R\). We show that the relation \(\mathcal{A} \sim \mathcal{B}\) as defined above is a equivalence relation.
    \begin{enumerate}
        \item \textbf{Reflexivity.} Trivially, \((\alpha) \mathcal{A} = (\alpha) \mathcal{A}\) for any \(\alpha \in R\), and we have \(\mathcal{A} \sim \mathcal{A}\).
        \item \textbf{Symmetry.} If \(\mathcal{A} \sim \mathcal{B}\), then \((\alpha) \mathcal{A} = (\beta) \mathcal{B}\), and again it is trivial that \((\beta) \mathcal{B} = (\alpha) \mathcal{A}\), hence \(\mathcal{B} \sim \mathcal{A}\).
        \item \textbf{Transitivity.} Let \(\mathcal{A} \sim \mathcal{B}\) and \(\mathcal{B} \sim \mathcal{C}\) hold. There are \(\alpha, \beta, \gamma, \theta \in R\) such that
        \begin{align*}
            (\alpha) \mathcal{A} = (\beta) \mathcal{B} \quad \text{and} \quad (\gamma) \mathcal{B} = (\theta) \mathcal{C} \text{.}
        \end{align*}
        Multiplying both sides of both equalities by \((\gamma)\) and \((\beta)\) respectively yields
        \begin{align*}
            (\gamma) (\alpha) \mathcal{A} = (\gamma) (\beta) \mathcal{B} \quad \text{and} \quad (\beta)(\gamma) \mathcal{B} = (\beta)(\theta) \mathcal{C} \text{.}
        \end{align*}
        Therefore, we have that \((\alpha \gamma) \mathcal{A} = (\beta \theta) \mathcal{C}\) or in other words \(\mathcal{A} \sim \mathcal{C}\).
    \end{enumerate}
\end{proof}

\begin{defbox}
    \begin{definition}
        Let \(K\) be an algebraic number field. The equivalence classes of ideals of \(R\) form a group called the ideal class group of \(K\) or just class group of \(K\), and write it as \(\mathrm{Cl}(K)\).
    \end{definition}
\end{defbox}

\begin{thmbox}
    \begin{theorem}
        Let \(K\) be an algebraic number field.
        \begin{enumerate}
            \item The ideal class group is indeed an abelian group with ideal multiplication as its operation. \([(1)] = [R]\) is the identity element and 
            \item Each ideal class has an integral ideal representant.
            \item The ideal class group is trivial, i.e. \(\mathrm{Cl}(K) = [(1)]\), if and only if all fractional ideals in \(K\) are principal, which is equivalent to \(\mathcal{O}_K\) being a principal ideal domain.
            \item The ideal class group of \(K\) is finite.
        \end{enumerate}
    \end{theorem}
\end{thmbox}

\begin{rembox}
    \begin{remark}
        \begin{enumerate}
            \item For some integral domains not all fractional ideals are invertible, so not all ideal classes are invertible. In other words, the ideal classes need not be a group for arbitary integral domains.
            \item For Dedekind domains fractional ideals are invertible, so the ideal classes form a group, but they need not be finite.
            \item For a Dedekind domain \(R\), the group \(\mathrm{Cl}(R)\) is trivial if and only if \(R\) is a principal domain which is equivalent to \(R\) being a unique factorization domain, so \(\mathrm{Cl}(R)\) is a measure of how far \(R\) is from having unique factorization of elements.
            \item Every abelian group is isomorphic to the ideal class group of some Dedekind domain.
            \item It is believed that every finite abelian group is isomorphic to the ideal class group of some algebraic number field, but this is unsolved.
            \item If \(R\) is Dedekind, \(\mathrm{Cl}(R)\) can be regarded as a quotient Group
            \begin{align*}
                \mathrm{Cl}(R) = \set{\text{fractional \(R\)-ideals}} / \set{\text{principal fractional \(R\)-ideals}}
            \end{align*}
            \item If all fractional ideal of an integral domain is invertible, then it is a Dedekind domain.
        \end{enumerate}
    \end{remark}
\end{rembox}

\begin{defbox}
    \begin{definition}
        The Kronecker Bound (or Hurwitz bound?)
        \begin{align*}
            C = \prod_{\sigma: K \rightarrow \mathbb{C}} \sum_{i=1}^n |\sigma(e_i)|
        \end{align*}
    \end{definition}
\end{defbox}

\begin{thmbox}
    \begin{theorem}
        The ideal classes of \(\mathcal{O}_K\) are
        \begin{enumerate}
            \item represented by ideals in \(\mathcal{O}_K\) with norm at most \(C\)
            \item generated as a group by prime ideals \(\mathfrak{p}\) with norm at most \(C\).
        \end{enumerate}
    \end{theorem}
\end{thmbox}

\begin{thmbox}
    \begin{theorem}
        Let \(K\) be an algebraic number field of degree \(n\), \(\Delta_K\) be the discriminant of \(K / \mathbb{Q}\), and \(2 r_2 = n - r_1\) be the number of complex embeddings where \(r_1\) is the number of real embeddings. Then every class in the ideal class group of \(K\) contains an integral ideal of norm not exceeding Minowski's bound
        \begin{align*}
            M_K = \sqrt{|\Delta_K|} \left( \frac{4}{\pi} \right)^{r_2} \frac{n!}{n^n} \text{.}
        \end{align*}
        Moreover, the ideal class group is generated by the prime ideals with the norm not exceeding this bound.
    \end{theorem}
\end{thmbox}

\begin{center}
    \begin{tabular}{ c c c }
     \(K = \mathbb{Q}(\sqrt{2})\) & \(M_K \approx 1.41\) & \(\mathrm{Cl}(K) \cong Z_1 \) \\
     \(K = \mathbb{Q}(\sqrt{3})\) & \(M_K \approx 1.73\) & \(\mathrm{Cl}(K) \cong Z_1 \) \\
     \(K = \mathbb{Q}(\sqrt{5})\) & \(M_K \approx 1.12\) & \(\mathrm{Cl}(K) \cong Z_1 \) \\
     \(K = \mathbb{Q}(\sqrt{6})\) & \(M_K \approx\) & \(\mathrm{Cl}(K) \cong \) \\ 
     \(K = \mathbb{Q}(\sqrt{7})\) & \(M_K \approx 2.65\) & \(\mathrm{Cl}(K) \cong Z_1 \) \\ 
     cell4 & cell5 & cell6 \\  
     cell7 & cell8 & cell9    
    \end{tabular}
    \end{center}

\begin{example}
    If the Minkowski bound is less than \(2\), the ideal class group is generated by just one element, the identity, and every (fractional and integral) ideals are equivalent to \((1)\). In such a case, we call the ideal class group trivial.
\end{example}

\begin{example}
    Let \(K = \mathbb{Q}(\sqrt{7})\). Then, \(M_K \approx 2.65\) and \(\mathrm{Cl}(K) \cong Z_1\).
\end{example}

\begin{proof}
    We have \(7 \equiv 3 \mod{4}\), thus the discriminant is \(\Delta_K = 4 \cdot 7\). There are \(r_2 = 0\) complex embeddings and the degree of the algebraic number field \(K\) is \(n = 2\). This gives us the Minkowski bound
    \begin{align*}
        M_K = \sqrt{4 \cdot 7} \left(\frac{4}{\pi}\right)^0 \frac{2}{4} = \sqrt{7} \approx 2.65 \text{.}
    \end{align*}
    We find the prime factorization of the ideal \((2)\). It is
    \begin{align*}
        X^2 - 7 \equiv X^2 - 1 \equiv X^2 + 1 \equiv (X + 1)^2 \mod{2} \text{.}
    \end{align*}
    Thus, \((2) = \mathfrak{p}_2^2\) for some prime ideal \(\mathfrak{p}_2\) in \(\mathcal{O}_K\). Because \((2)\) is equivalent to the identity \((1)\) in the ideal class group, we know \(\mathfrak{p}_2\) has an order not more than \(2\).

    % https://math.stackexchange.com/questions/2149321/class-group-of-mathbbq-sqrt7
    Here, we will use the fact that \(2\) has a factorization in \(\mathcal{O}_K\) namely \(2 = (3 + \sqrt{7})(3 - \sqrt{7})\). It is
    \begin{align*}
        \frac{3 + \sqrt{7}}{3 - \sqrt{7}} = \frac{(3 + \sqrt{7})^2}{2} = 8 + 3 \sqrt{7} \text{.}
    \end{align*}
    Now, \(8 + 3 \sqrt{7}\) is a unit because of \((8 + 3 \sqrt{7}) (8 - 3 \sqrt{7}) = 1\), thus \(3 + \sqrt{7}\) and \(3 - \sqrt{7}\) generate the same ideal. We had \((2) = \mathfrak{p}_2^2\), therefore \(\mathfrak{p}_2 = (8 + 3 \sqrt{7})\) which is principal. Hence, \(\mathfrak{p}_2 \sim (1)\) and the ideal class group \(\mathrm{Cl}(K)\) is isomorphic to the cyclic group of order \(1\).
\end{proof}

\begin{example}
    Let \(K = \mathbb{Q}(\sqrt{82})\).
\end{example}
\begin{proof}
    Since \(82 \equiv 2 \mod{4}\), the ring of integer of \(K\) is \(\mathbb{Z}[\sqrt{82}]\) and \(\set{1, \sqrt{82}}\) being an integral basis. Thus, the discriminant of \(K\) is
    \begin{align*}
        \Delta_K = \left(\det \begin{pmatrix}
            1 & \sqrt{82} \\
            1 & -\sqrt{82}
        \end{pmatrix}\right)^2
        = \left( -2 \sqrt{82} \right)^2
        = 328 \text{.}
    \end{align*}
    There are \(r_2 = 0\) complex embeddings and the degree of \(K\) is \(n = 2\). The Minkowski bound is therefore
    \begin{align*}
        M_K = \sqrt{328} \left(\frac{4}{\pi}\right)^0 \frac{2}{4} = \sqrt{82} \approx 9.06 \text{.}
    \end{align*}
    Since the ideal class group of \(K\) is generated by prime ideals with norm not exceeding \(M_K\), we will look at \((2)\), \((3)\), \((5)\), and \((7)\).
    \begin{enumerate}
        \item To find the factorization of \((2)\), we have
        \begin{align*}
            X^2 - 82 \equiv X^2 \mod{2} \text{,}
        \end{align*}
        so \((2) = (2, \sqrt{82})^2\).
        \item For \((3)\), we have
        \begin{align*}
            X^2 - 82 \equiv X^2 - 1 \equiv (X + 1) (X - 1) \mod{3}
        \end{align*}
        hence \((3) = (3, \sqrt{82} + 1) (3, \sqrt{82} - 1)\).
        \item For \((5)\), it is
        \begin{align*}
            X^2 - 82 \equiv X^2 + 3 \mod{5}
        \end{align*}
        therefore, \((5) = (5, 85) = (5)\) which is prime.
        \item For \((7)\), we have
        \begin{align*}
            X^2 - 82 \equiv X^2 + 2 \mod{7}
        \end{align*}
        therefore \((7) = (7, 85) = (7)\) which is also prime.
    \end{enumerate}
    Since \((5) \sim (7) \sim (1)\), we are only interested in \((2) = (2, \sqrt{82})^2\) and \((3) = (3, \sqrt{82} + 1)(3, \sqrt{82} - 1)\).

    Since \((1) \sim (3) = (3, \sqrt{82} + 1) (3, \sqrt{82} - 1)\), we have \((3, \sqrt{82} + 1)^{-1} = (3, \sqrt{82} - 1)\).

    I don't understand this part, but \((2, \sqrt{82}) \sim (3, \sqrt{82} \pm 1)^2\) (either plus or minus).

    Now we want to show that \((2, \sqrt{82})\) is not principal. If \((2, \sqrt{82}) = (a + b\sqrt{82})\), then \((2) = ((2, \sqrt{82})^2)\)
\end{proof}

\begin{example}
    Let \(K = \mathbb{Q}(\sqrt{-14})\).
\end{example}

\begin{proof}
    Firstly, \(-14 \equiv 2 \mod{4}\), so the ring of integers of \(K\) is \(\mathcal{O}_K = \mathbb{Z}[\sqrt{-14}]\). We can compute the discriminant using the integral basis \(\set{1, \sqrt{-14}}\)
    \begin{align*}
        \Delta_K = \left(\det \begin{pmatrix}
            1 & \sqrt{-14} \\
            1 & -\sqrt{-14}
        \end{pmatrix}\right)^2
        = \left(-2 \sqrt{-14}\right)^2
        = -4 \cdot 14 \text{.}
    \end{align*}
    The number of complex embeddings are \(r_2 = 1\) and the degree of the algebraic number field \(K\) is \(n = 2\), thus the Minkowski bound is
    \begin{align*}
        M_K = \sqrt{|-4 \cdot 14|} \left(\frac{4}{\pi}\right)^1 \frac{2}{4}
        = \frac{4\sqrt{14}}{\pi}
        \approx 4.76 \text{.}
    \end{align*}
    The ideal class group is generated by the prime ideals dividing the ideals \((2)\) and \((3)\).
    \begin{align*}
        X^2 + 14 \equiv X \cdot X \mod{2} \\
        X^2 + 14 \equiv X^2 + 2 \equiv X^2 - 1 \equiv (X + 1) (X - 1) \mod{3}
    \end{align*}
    Therefore, we have the factorizations \((2) = \mathfrak{p}_2^2\) and \((3) = \mathfrak{p}_3 \mathfrak{p}_3^\prime\) for some prime ideals \(\mathfrak{p}_2\), \(\mathfrak{p}_3\), and \(\mathfrak{p}_3^\prime\) in \(\mathcal{O}_K\). Because \((2)\) and \((3)\) are equivalent to the identity \((1)\) in the ideal class group, we have \(\mathfrak{p}_2^{-1} = \mathfrak{p}_2\) and \(\mathfrak{p}_3^{-1} = \mathfrak{p}_3^\prime\). Therefore, the ideal class group of \(K\) is generated by \([\mathfrak{p}_2]\) and \([\mathfrak{p}_3]\).

    Both \(\mathfrak{p}_2\) and \(\mathfrak{p}_3\) are nonprincipal because
    \begin{align*}
        4 = \mathrm{N}((2)) = \mathrm{N}(\mathfrak{p}_2) \mathrm{N}(\mathfrak{p}_2) &\Rightarrow \mathrm{N}(\mathfrak{p}_2) = 2 \\
        9 = \mathrm{N}((3)) = \mathrm{N}(\mathfrak{p}_3) \mathrm{N}(\mathfrak{p}_3^\prime) &\Rightarrow \mathrm{N}(\mathfrak{p}_3) = \mathrm{N}(\mathfrak{p}_3^\prime) = 3 \text{,}
    \end{align*}
    but the equations \(a^2 + 14 b^2 = 2\) and \(a^3 + 14 b^2 = 3\) have no integer solutions.

    To find the relations between \(\mathfrak{p}_2\) and \(\mathfrak{p}_3\), we use \(N(2 + \sqrt{-14}) = 18 = 2 \cdot 3^2\).
\end{proof}