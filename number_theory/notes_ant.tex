\documentclass[a4paper]{book}
\title{Number Theory}
\author{K}


% ---------------------------------------------------------------------
% P A C K A G E S
% ---------------------------------------------------------------------

% typography and formatting
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{geometry}
\usepackage{exsheets}
\usepackage{environ}

% mathematics
\usepackage{amsthm} % for theorems, and definitions
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{textcomp}
% \usepackage{MnSymbol} % for \cupdot

% extra
\usepackage{xcolor}
\usepackage{tikz}

% ---------------------------------------------------------------------
% S E T T I N G
% ---------------------------------------------------------------------

%maybe delete later, for colorbox
\usepackage{tcolorbox}
\newtcolorbox{defbox}{colback=blue!5!white,colframe=blue!75!black}
\newtcolorbox{thmbox}{colback=orange!5!white,colframe=orange!75!black}
\newtcolorbox{rembox}{colback=purple!5!white,colframe=purple!75!black}

% typography and formatting
\geometry{margin=3cm}

\SetupExSheets{
  counter-format = ch.qu,
  counter-within = chapter,
  question/print = true,
  solution/print = true,
}

% mathematics
\newcounter{global}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[]
\newtheorem{example}{Example}[definition]

\newtheorem{theorem}[definition]{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{proposition}[definition]{Proposition}

\newtheorem*{remark}{Remark}

% extra
\definecolor{mathif}{HTML}{0000A0} % for conditions
\definecolor{maththen}{HTML}{CC5500} % for consequences
\definecolor{mathrem}{HTML}{8b008b} % for notes
\definecolor{mathobj}{HTML}{008800}

\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric, arrows}

% ---------------------------------------------------------------------
% C O M M A N D S
% ---------------------------------------------------------------------

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\rank}{\text{rank}}
\newcommand{\Vol}{\text{Vol}}

\newcommand{\set}[1]{\left\{\, #1 \,\right\}}
\newcommand{\makeset}[2]{\left\{\, #1 \mid #2 \,\right\}}

\newcommand*\diff{\mathop{}\!\mathrm{d}}
\newcommand*\Diff{\mathop{}\!\mathrm{D}}

\newcommand\restr[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}

% ---------------------------------------------------------------------
% R E N D E R
% ---------------------------------------------------------------------

\newif\ifshowproof
\showprooftrue

\NewEnviron{Proof}{%
    \ifshowproof%
        \begin{proof}%
            \BODY
        \end{proof}%
    \fi%
}%

\begin{document}
\begin{thmbox}
    \begin{theorem}
        Let \(A\) be an integral domain, and let \(L\) be a field containing \(A\). The elements of \(L\) integral over \(A\) form a ring.
    \end{theorem}
\end{thmbox}
\begin{remark}
    The immediate consequence of this theorem is that the ring of integers is indeed a ring.
\end{remark}
\begin{defbox}
    \begin{definition}
        Symmetric polynomials and elementary symmetric polynomials.
    \end{definition}
\end{defbox}
\begin{thmbox}
    \begin{theorem}
        Let \(A\) be a ring. Every symmetric polynomial \(P(X_1, \ldots, X_r)\) in \(A[X_1, \ldots, X_n]\) can be represented with a linear combination of elementary symmetric polynomials with coeffcients in \(A\).
    \end{theorem}
\end{thmbox}
Proof is constructive and inductive by reducing the polynomial over the lexicographically highest monomial. Not a hard proof, but the indecies are anoying.

The above proof implies:

Let \(f(X) = X^n + a_1 X^{n-1} + \cdots + a_n \in A[X]\), and let \(\alpha_1, \ldots, \alpha_n\) be the roots of \(f(X)\) in some ring containing \(A\), so that \(f(X) = \prod (X - \alpha_i)\) in the larger ring. Then
\begin{align*}
    a_1 = -S_1(\alpha_1, \ldots, \alpha_n), \qquad a_2 = S_2(\alpha_1, \ldots, \alpha_n), \qquad a_n = \pm S_n(\alpha_1, \ldots, \alpha_n) \text{.}
\end{align*}
(I'm not quite sure why this is the case. Maybe use the multi-binomial theorem.)

Thus the elementary symmetric polynomials in the roots of \(f\) lie in \(A\). And so the theorem implies that every symmetric polynomial in the roots of \(f(X)\) lies in \(A\).
\begin{thmbox}
    \begin{proposition}
        Let \(A\) be a integral domain and \(\Omega\) be an algebraically closed field containing \(A\). If \(\alpha_1, \ldots, \alpha_n\) are the roots in \(\Omega\) of a monic polynomial in \(A[X]\), then every polynomial \(g(\alpha_1, \ldots, \alpha_n)\) in \(A[\alpha_1, \ldots, \alpha_n]\) is a root of a monic polynomial in \(A[X]\).
    \end{proposition}
\end{thmbox}
\begin{proof}
    Clearly,
    \begin{align*}
        h(X) := \prod_{\sigma \in \mathrm{Sym}_n} (X -  g(\alpha_{\sigma(1)}, \ldots, \alpha_{\sigma(n  )}))
    \end{align*}
    is a monic polynomial whose coeffcients are symmetric polynomials in the \(\alpha_i\), and therefore lie in \(A\). But \(g(\alpha_1, \ldots, \alpha_n)\) is one of the roots.
\end{proof}
With this we can prove that the above theorem. I don't quite understand few steps ...

\section*{Dedekind's Proof}

\begin{thmbox}
    \begin{proposition}
        Let \(L\) be a field containing \(A\). An element \(\alpha\) of \(L\) is integral over \(A\) if and only if there exists a nonzero finitely generated \(A\)-submodule of \(L\) such that \(\alpha M \subset M\) (in fact, we can take \(M = A[\alpha]\), the \(A\)-subalgebra generated by \(\alpha\)).
    \end{proposition}
\end{thmbox}
\begin{proof}
    \begin{itemize}
        \item Let \(\alpha \in L\) be integral over \(A\). The \(A\)-submodule \(A[\alpha]\) in \(L\) is generated by \(1, \alpha, \ldots, \alpha^{n-1}\), thus finitely generated and clearly nonzero. \(\alpha A[\alpha] \subset A[\alpha]\) also holds.
        \item Let \(M\) be a nonzero, finitely generated \(A\)-submodule in \(L\) such that \(\alpha M \subset M\). Since \(M\) is finitely generated, there is a set of generators \(v_1, \ldots, v_n \in M\). From \(\alpha M \subset M\) we have that
        \begin{align*}
            \alpha v_i = \sum_{j = 1}^n a_{i, j} v_j
        \end{align*}
        for some \(a_{i, j} \in A\). We rewrite this system of equations
        \begin{align*}
            (\alpha - a_{i, i}) v_i \sum_{j = 1, j \neq i}^n a_{i, j} v_j = 0
        \end{align*}
        We have the matrix
        \begin{align*}
            \begin{pmatrix}
                (\alpha - a_{1, 1}) & a_{1, 2} & \cdots & a_{1, n}\\
                a_{2,1} & (\alpha - a_{2, 2}) & \cdots & a_{2, n} \\
                \vdots & & & \vdots \\
                a_{n, 1} & a_{n, 2} & \cdots & (\alpha - a_{n,n})
            \end{pmatrix}
        \end{align*}
        Applying Cramer's Rule we get \(v_i = \frac{\det(C_i)}{\det{C}}\), but \(C_i\) is always \(0\), and at least one \(v_i\) is nonzero, so we have that \(\det(C) = 0\).

        But calculating the determinant of \(C\) gives us

        \begin{align*}
            \alpha^n + c_1 \alpha^{n-1} + \cdots + c_n = 0
        \end{align*}
        as desired.
    \end{itemize}
\end{proof}
Now take \(\alpha\) and \(\beta\) integral over \(A\) and denote \(\alpha M \subset M\) and \(\beta N \subset N\).

\begin{enumerate}
    \item \(MN\) is an \(A\)-submodule of \(L\).
\end{enumerate}

Dedekind's proof is much easier to understand, lol.

\section*{Integral Elements}

\begin{proposition}
    Let \(K\) be the field of fractions of \(A\), and let \(L\) be a field containing \(K\). If \(\alpha \in L\) is algebraic over \(K\), then there exists a nonzero \(d \in A\) such that \(d \alpha \) is integral over \(A\).
\end{proposition}

\begin{corollary}
    Let \(A\) be an integral domain with field of fractions \(K\), and let \(B\) be the integral closure of \(A\) in a field \(L\) containing \(K\). If \(L\) is algebraic over \(K\), then it is the field of fractions \(B\).
\end{corollary}

\part{Exercise}

\begin{example}
    Let \(d\) be a square-free integer. Consider \(A = \mathbb{Z}[\sqrt{d}]\). Show that every element of \(R\) can be written as a product of irreducible elements.
\end{example}
\begin{proof}
    Define \(N: R \longrightarrow \mathbb{N}\) as \(N(a + b \sqrt{d}) = |a^2 - d b^2|\) where \(a, b \in \mathbb{Z}\). Let \(a_1 + b_1 \sqrt{d}\) and \(a_2 + b_2 \sqrt{d}\) be two elements in \(\mathbb{Z}[\sqrt{d}]\) with \(a_1, b_1, a_2, b_2 \in \mathbb{Z}\), then
    \begin{align*}
        N((a_1 + b_1 \sqrt{d}) (a_2 + b_2 \sqrt{d})) &= N((a_1 a_2 + b_1 b_2 d) + (a_1 b_2 + a_2 b_1) \sqrt{d}) \\
        &= |(a_1 a_2 + b_1 b_2 d)^2 - d (a_1 b_2 + a_2 b_1)^2| \\
        &= |a_1^2 a_2^2 + 2 a_1 a_2 b_1 b_2 d + b_1^2 b_2^2 d^2 - a_1^2 b_2^2 d - 2 a_1 a_2 b_1 b_2 d - a_2^2 b_1^2 d | \\
        &= |a_1^2 a_2^2 - a_1^2 b_2^2 d - a_2^2 b_1^2 d + b_1^2 b_2^2 d^2| \\
        \intertext{on the other hand}
        N(a_1 + b_1 \sqrt{d})N(a_2 + b_2 \sqrt{d}) &= |a_1^2 - d b_1^2||a_2^2 - d b_2^2| \\
        &= |a_1^2 a_2^2 - a_1^2 b_2^2 d - a_2^2 b_1^2 d + b_1^2 b^2 d^2 |
    \end{align*}
    so we have \(N((a_1 + b_1 \sqrt{d}) (a_2 + b_2 \sqrt{d})) = N(a_1 + b_1 \sqrt{d})N(a_2 + b_2 \sqrt{d})\). Moreover, let \(u \in \mathbb{Z}[\sqrt{d}]\) be a unit, then there is an element \(v \in \mathbb{Z}[\sqrt{d}]\) such that \(u v = 1\). Applying the function defined above, we get
    \begin{align*}
        1 = N(1) = N(u v) = N(u) N(v)
    \end{align*}
    so \(N(u) = 1\). Now suppose \(N(a + b \sqrt{d}) = 1\) with \(a, b \in \mathbb{Z}\). Consider
    \begin{align*}
        (a + b \sqrt{d})(a - b \sqrt{d}) = a^2 - d b^2 = \pm 1
    \end{align*}
    and therefore \(a + b \sqrt{d}\) is a unit.

    We have shown that \(N\) is a norm map. \(R\) is also an integral domain because if \(x \in R\) is a zero-divisor, then we have \(0 = N(x) = |a^2 - d b^2|\), but this is impossible since \(d\) is square-free. Applying the example before, we get the desired result.
\end{proof}

\begin{example}
    2.1.3. did it before
\end{example}

\begin{example}
    Let \(R\) be a domain in which every element can be written as a product of irreducibles. Show that the following are equivalent.
    \begin{enumerate}
        \item this factorization is unique
        \item if \(\pi\) is irreducible and \(\pi\) divides \(ab\), then \(\pi | a\) or \(\pi | b\)
    \end{enumerate}
\end{example}
\begin{proof}
    Let the factorization be unique, \(\pi \in R\) be irreducible and divide \(ab\). Then \(ab = \pi x\) for some \(x \in R\). On the other hand, \(ab\) has a unique factorization that is the product of the factorization of \(a\) and \(b\) but must contain \(\pi\).

    For the other side let \(p_1^{r_1} \cdot \ldots \cdot p_n^{r_n}\) and \(q_1^{s_1} \cdot \ldots \cdot q_m^{r_m}\) be two factorizations of an element in \(R\). Then \(p_1\) divides \(q_1^{s_1} \cdot \ldots \cdot q_m^{r_m}\) so \(p_1\) divides some \(q_i\). But \(q_i\) is irreducible, so we have \(p_1 = q_i\). Induction yields the desired result.
\end{proof}

\begin{example}
    Show that if \(\pi\) is an irreducible element of a principal ideal domain, then \((\pi)\) is a maximal ideal.
\end{example}
\begin{proof}
    Assume \((\pi)\) is not maximal, then there is an ideal \((a)\) with \(a \neq 1\) such that \((\pi) \subsetneq (a)\). But this implies \(\pi = r a\) for some \(r \in R\) that is not a unit. This is a contradiction.
\end{proof}

\begin{example}
    If \(F\) is a field, prove that \(F[x]\) is Euclidean.
\end{example}
\begin{proof}
    Define \(\phi: F[x] \longrightarrow \mathbb{N}\) as \(\phi(f) = \mathrm{deg}(f)\). Fix two polynomials \(f, g \in F[x]\). If \(\mathrm{deg}(f) >= \mathrm{g}\), then we can do polynomial division to get \(f = g p + r\) where \(\mathrm{deg}(g) > \mathrm{r}\).
\end{proof}

\begin{example}
    Show that \(\mathbb{Z}[i]\) is Euclidean.
\end{example}
\begin{proof}
    Fix two elements \(x, y \in \mathbb{Z}[i]\) and write \(x = a_x + i b_x\) and \(y = a_y + i b_y\). It is
    \begin{align*}
        \frac{x}{y} &= \underbrace{\frac{a_x a_y + b_x b_y}{a_y^2 + b_y^2}}_{=: \alpha} + i \underbrace{\frac{a_y b_x - a_x b_y}{a_y^2 + b_y^2}}_{=: \beta}
    \end{align*}
    Set \(p_x\) to be the closest integer to \(\alpha\) and \(p_y\) to be the closest integer to \(\beta\) and \(p = p_x + i p_y\). Moreover, set \(r = ((\alpha - p_x) + i (\beta - p_y)) y\).

    It is
    \begin{align*}
        r &= y(\alpha + i \beta) - y (p_x + i p_y) \\
        &= y \frac{x}{y} - py \\
        &= x - py
    \end{align*}
    so we got the desired representation.

    Furthermore, we have
    \begin{align*}
        N(r) &= N(y) ((\alpha - p_x)^2 + (\beta - p_y)^2)\\
        &\leq N(y) \frac{1}{2}
    \end{align*}
\end{proof}
\begin{example}
    Prove that if \(p\) is a positive prime, then there is an element \(x \in \mathbb{Z}/p\mathbb{Z}\) such that \(x^2 \equiv -1 \mod{p}\) if and only if either \(p = 2\) or \(p \equiv 1 \mod{4}\).
\end{example}

\begin{proof}
    \begin{enumerate}
        \item Let \(p = 2\), then we can simply choose \(x = 1\). Now let \(p \equiv 1 \mod{4}\). With Wilson's Theorem we have
        \begin{align*}
            -1 \equiv (p - 1)! \equiv 1 \cdot \ldots \frac{p - 1}{2} \cdot \frac{p + 1}{2} \cdot \ldots \cdot p \equiv \left(\left(\frac{p - 1}{2}\right)!\right)^2 \cdot (-1)^{\frac{p - 1}{2}} \equiv \left(\left(\frac{p - 1}{2}\right)!\right)^2
        \end{align*}
        where \(\mod{p}\). So choose the last expression as \(x\) and we are done.
        \item If \(p = 2\), then we are done. Now let \(x^2 \equiv -1 \mod{p}\). If \(p \equiv 3 \mod(4)\), we have
        \begin{align*}
            x^{p - 1} = x^{4n + 2} = x^{4n} x^2 \equiv -1 (x^4)^n \equiv -1 \mod{p}
        \end{align*}
        as \(x^4 \equiv 1 \mod{p}\). But this contradicts Fermat's Little Theorem.
    \end{enumerate}
\end{proof}
\begin{example}
    Find all integer solutions to \(y^2 + 1 = x^3\) with \(x, y \neq 0\).
\end{example}
\begin{proof}
    If \(x\) is even, then \(4 | x^3\), so \(x^3 - 1 \equiv 3 \mod 4\) which cannot be a square since all squares are congruent to either \(0\) or \(1\) \(\mod{4}\). So \(x\) is odd and \(y\) is even. Write \(y^2 + 1 = (y + i)(y - i)\). If a prime divides \((y + i)(y - i)\), then the prime divides also their difference \(2i\). So \(p = 2\) up to units. But then \(p\) divides \(y\) as \(y\) was even, but this is impossible since \(p\) also divides \(y + i\).
\end{proof}

\begin{example}
    What are the primes of \(\mathbb{Z}[i]\)?
\end{example}
\begin{proof}
    We have two types of primes in \(\mathbb{Z}[i]\).
    \begin{enumerate}
        \item \(p\) and \(ip\) where \(p \equiv 3 \mod{4}\).
        \item \(a + i b\) with \(a^2 + b^2 \equiv 1 \mod{4}\) and prime.
    \end{enumerate}
    This is because of the norm function \(N(a + ib) = a^2 + b^2\).
\end{proof}

\begin{example}
    A positive integer \(a\) is the sum of two squares if and only if \(a = b^2 c\) where \(c\) is not divisible by any positive prime \(p \equiv 3 \mod{4}\).
\end{example}
\begin{proof}
    I don't know.
\end{proof}

\begin{example}
    \(\mathbb{Z}[\rho]\) is a ring where
    \begin{align*}
        \rho = \frac{-1 + \sqrt{-3}}{2} \text{.}
    \end{align*}
\end{example}
\begin{proof}
    \begin{enumerate}
        \item \((\mathbb{Z}[\rho], +)\) is an abelian group.
        \begin{enumerate}
            \item If \(a_1 + b_1 \rho\) and \(a_2 + b_2 \rho\) are elements of \(\mathbb{Z}[\rho]\), then \(a_1 + b_1 \rho + a_2 + b_2 \rho = a_1 + a_2 + (b_1 + b_2) \rho\), so the addition is well-defined.
            \item Associativity and commutativity is inhereted from the addition of integers.
            \item The additive identity is \(0\).
            \item If \(a + b \rho\) is in \(\mathbb{Z}[\rho]\), then its inverse is \(-a - b \rho\).
        \end{enumerate}
        \item \((\mathbb{Z}[\rho], \cdot)\) is a monoid.
        \begin{enumerate}
            \item If \(a_1 + b_1 \rho\) and \(a_2 + b_2 \rho\) are two elements of \(\mathbb{Z}[\rho]\), then we have
            \begin{align*}
                (a_1 + b_1 \rho)(a_2 + b_2 \rho) &= a_1 a_2 + b_1 b_2 \rho^2 + (a_1 b_2 + a_2 b_1) \rho \\
                &= a_1 a_2 + b_1 b_2 \overline{\rho} + (a_1 b_2 + a_2 b_1) \rho \\
                &= a_1 a_2 + b_1 b_2 \frac{-1 - \sqrt{3}}{2} + (a_1 b_2 + a_2 b_1) \frac{-1 + \sqrt{3}}{2} \\
                &= a_1 a_2 - \frac{b_1 b_2}{2} - \frac{a_1 b_2 + a_2 b_1}{2} - \frac{b_1 b_2 \sqrt{-3}}{2} + \frac{(a_1 b_2 + a_2 b_1) \sqrt{-3}}{2} \\
                &= a_1 a_2 + \frac{-a_1 b_2 - a_2 b_2 -b_1 b_2}{2} + \frac{(a_1 b_2 + a_2 b_1 - b_1 b_2) \sqrt{-3}}{2}
            \end{align*}
            I made some mistake, but should be right.
            \item The multiplicative identity is \(1\)
        \end{enumerate}
        \item Distributive law is again inherited.
    \end{enumerate}
\end{proof}
\begin{example}
    \begin{enumerate}
        \item Show that \(\mathbb{Z}[\rho]\) is Euclidean.
        \begin{proof}
            Fix two elements \(x_1 + x_2 \rho\) and \(y_1 + y_2 \rho\) of \(\mathbb{Z}[\rho]\). We have
            \begin{align*}
                \frac{x_1 + x_2 \rho}{y_1 + y_2 \rho} &= \frac{x_1 + x_2 \rho}{y_1 + y_2 \rho} \frac{y_1 - y_2 \rho}{y_1 - y_2 \rho} \\
                &= \frac{x_1 y_1 - x_2 y_2 \overline{\rho}  - x_1 y_2 \rho + x_2 y_1 \rho}{y_1^2 + y_2^2 \overline{\rho}}
            \end{align*}
            I think this should work at the end of the day, but I'm too lazy to write it out.
        \end{proof}
        \item Show that the only units in \(\mathbb{Z}[\rho]\) are \(\pm 1\), \(\pm \rho\), and \(\pm \overline{\rho}\).
    \end{enumerate}
\end{example}

\chapter{Algebraic Numbers and Integers}

\begin{example}
    Show that
    \begin{equation*}
        \alpha := \frac{\sqrt{2}}{3}
    \end{equation*}
    is an algebraic number, but not an algebraic integer.
\end{example}
\begin{proof}
    First of all, \(\alpha\) is the root of
    \begin{equation*}
        X^2 - \frac{2}{9} \in \mathbb{Q}[X] \text{,}
    \end{equation*}
    so it is an algebraic number.

    Now assume \(\alpha\) is an algebraic integer. Then, there is a monic polynomial \(f \in \mathbb{Z}[X]\) such that \(f(\alpha) = 0\). It is
    \begin{align*}
        f(\alpha) = \left(\frac{\sqrt{2}}{3}\right)^n + a_{n-1}\left(\frac{\sqrt{2}}{3}\right)^{n - 1} + \cdots + a_1 \frac{\sqrt{2}}{3} + a_0 &= 0 \\
        (\sqrt{2})^n + 3 a_{n-1} (\sqrt{2})^{n-1} + \cdots + 3^{n-1} a_1 \sqrt{2} + 3^n a_0 &= 0
    \end{align*}
    If \(n\) is odd, then \(\sqrt{2}\) is not an integer, therefore, we can separate the sum into two smaller ones.
    \begin{align*}
        \sum_{k \text{ even}} 3^{n - k} a_k (\sqrt{2})^k = 0
    \end{align*}
    and
    \begin{align*}
        \sum_{k \text{ odd}} 3^{n - k} a_k (\sqrt{2})^k = \sqrt{2} \sum_{k \text{ even}} 3^{n - k} a_k (\sqrt{2})^{\frac{k - 1}{2}} = 0\text{.}
    \end{align*}
    Both sums are divisible by \(3\) as \(3\) divides \(0\) and since all summands except for the very last one contains multiples of \(3\), they are divisible by \(3\), so the last summand must be divisible by \(3\) as well. But this cannot be. Hence \(\alpha\) is not an algebraic integer.
\end{proof}

\begin{example}
    Show that if \(r \in \mathbb{Q}\) is an algebraic integer, then \(r \in \mathbb{Z}\).
\end{example}
\begin{proof}
    Write \(r = \frac{p}{q}\) such that \(q \not| p\) and we have
    \begin{align*}
        p^n + q a_{n-1}p^{n-1} + \cdots + q^n a_0 = 0
    \end{align*}
    \(q\) divides the whole sum, it divides all summands, but it does not divide \(p^n\), therefore \(q = 1\).
\end{proof}

\chapter{Integral Bases}

\begin{lemma}
    If \(K\) is an algebraic number field of degree \(n\) over \(\mathbb{Q}\), and \(\alpha \in \mathcal{O}_K\) its ring of integers, then \(\mathrm{Tr}_K(\alpha)\) and \(\mathrm{N}_K(\alpha)\) are in \(\mathbb{Z}\).
\end{lemma}
\begin{proof}
    Let \(\omega_1, \ldots, \omega_n\) be a \(\mathbb{Q}\)-basis for \(K\), then for all \(1 \leq i \leq n\) it is
    \begin{align*}
        \alpha \omega_i = \sum_{j = 1}^n a_{i, j} \omega_j \text{.}  
    \end{align*}
    Then we have for all \(1 \leq i \leq n\) and \(k\)
    \begin{align*}
        \alpha^{(k)} \omega_i^{(k)} = \sum_{j = 1}^n a_{i, j} \omega_j^{(k)}
    \end{align*}
    where \(\alpha^{(k)}\) is the \(k\)-th conjugate of \(\alpha\).

    Missing, but I kinda get it.
\end{proof}

\begin{example}
    Let \(K = \mathbb{Q}(i)\). Show that \(i \in \mathcal{O}_K\) and verify that \(\mathrm{Tr}_K(i)\) and \(\mathrm{N}_K(i)\) are integers.
\end{example}
\begin{proof}
    \(X^2 + 1 \in \mathbb{Z}[X]\) has the root \(i\), so \(i\) is in \(\mathcal{O}_K\). Since the \(\mathbb{Q}\)-basis of \(\mathbb{Q}(i)\) is \(\set{1, i}\), we have
    \begin{align*}
        \Phi_i(a + ib) = -b + a_i
    \end{align*}
    therefore, the matrix is
    \begin{align*}
        \Phi_i =
        \begin{pmatrix}
            0 & 1 \\ -1 & 0
        \end{pmatrix}
    \end{align*}
    and hence its trace is \(\mathrm{Tr}_K(i) = 0\). Similary, its norm is \(\mathrm{N}_K(i) = 1\).
\end{proof}
\begin{example}
    Determine the algebraic integers of \(\mathbb{Q}(\sqrt{-5})\).
\end{example}
\begin{proof}
    A \(\mathbb{Q}\)-basis for \(\mathbb{Q}(\sqrt{-5})\) is \(\set{1, \sqrt{-5}}\). Let \(\alpha = x + \sqrt{-5}y \in \mathbb{Q}(\sqrt{-5})\). Then
    \begin{align*}
        \Phi_x (a + \sqrt{-5} b) = (x + \sqrt{-5}y)(a + \sqrt{-5}b) = xa -5 yb + (bx + ya) \sqrt{-5} \text{,} 
    \end{align*}
    therefore,
    \begin{align*}
        \Phi_\alpha =
        \begin{pmatrix}
            x & y \\ -5 y & x
        \end{pmatrix}
    \end{align*}
    hence we have \(\mathrm{Tr}_K(\alpha) = 2x\) and \(\mathrm{N}_K = x^2 + 5y^2\).

    If \(x\) is not an integer, then \(2x\) must be, so we must have that \(y^2 \equiv 3 \mod 4\), but this is impossible. Hence \(x, y\) are both integers, therefore, \(\mathcal{O}_K = \mathbb{Z}[\sqrt{-5}]\).
\end{proof}
\begin{example}
    4.1.5 I'll skip this.
\end{example}

\end{document}