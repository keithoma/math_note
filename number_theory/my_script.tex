\documentclass[a4paper]{book}
\title{Integration and Integration}
\author{K}


% ---------------------------------------------------------------------
% P A C K A G E S
% ---------------------------------------------------------------------

% typography and formatting
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{geometry}
\usepackage{exsheets}
\usepackage{environ}

% mathematics
% \usepackage{amsthm} % for theorems, and definitions
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{textcomp}
%\usepackage{MnSymbol} % for \cupdot

\usepackage[framemethod=tikz]{mdframed} 
\usepackage{ntheorem}

% extra
\usepackage{xcolor}
\usepackage{tikz}
\usepackage[sfdefault,light]{roboto}  %% Option 'sfdefault' only if the base font of the document is to be sans serif
\usepackage[T1]{fontenc}

\renewcommand*{\rmdefault}{roboto}


% ---------------------------------------------------------------------
% S E T T I N G
% ---------------------------------------------------------------------

% typography and formatting
\geometry{margin=3cm}

\SetupExSheets{
  counter-format = ch.qu,
  counter-within = chapter,
  question/print = true,
  solution/print = true,
}

% mathematics
% extra
\definecolor{mathif}{HTML}{0000A0} % for conditions
\definecolor{maththen}{HTML}{CC5500} % for consequences
\definecolor{mathrem}{HTML}{8b008b} % for notes
\definecolor{defbg}{HTML}{fde5d6}

\theoremstyle{break}
% \theoremheaderstyle{\rmfamily}
\theorembodyfont{\sffamily}

\newmdtheoremenv[
    ntheorem=true,
    hidealllines=true,
    backgroundcolor=defbg,
    splittopskip=2\baselineskip,
    middleextra={\node[anchor=north west,font=\bfseries,inner xsep=0pt,xshift=10pt] at (P-|O) {Example~\thetest\ (Continued)};},
    secondextra={\node[anchor=north west,font=\bfseries,inner xsep=0pt,xshift=10pt] at (P-|O) {Example~\thetest\ (Continued)};}
]{definition}{Definition}

\newtheorem{example}{Example}

\theoremstyle{plain}

\newtheorem{theorem}{Theorem}[definition]
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}{Lemma}[definition]
\newtheorem{proposition}{Proposition}[definition]

\newtheorem{remark}{Remark}



\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric, arrows}

% ---------------------------------------------------------------------
% C O M M A N D S
% ---------------------------------------------------------------------

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\rank}{\text{rank}}
\newcommand{\Vol}{\text{Vol}}
\newcommand*\diff{\mathop{}\!\mathrm{d}}
\newcommand*\Diff{\mathop{}\!\mathrm{D}}

\newcommand\restr[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}

% ---------------------------------------------------------------------
% R E N D E R
% ---------------------------------------------------------------------

\newif\ifshowproof
\showprooftrue

\NewEnviron{Proof}{%
    \ifshowproof%
        \begin{proof}%
            \BODY
        \end{proof}%
    \fi%
}%

\begin{document}
%\maketitle
%\tableofcontents

\chapter{Rings}

\begin{example}
    \begin{enumerate}
        \item \((\mathbb{Z}, +, \cdot)\)
        \item All fields, such as \((\mathbb{Q}, +, \cdot)\), \((\mathbb{R}, +, \cdot)\), and \((\mathbb{C}, +, \cdot)\), are rings.
        \item Let \(R\) be a commutative ring, then \(R[X]\), the set of polynomials with coefficients in \(R\), is again a ring, e.g. \(\mathbb{Z}[X]\), \(\mathbb{Q}[X]\), and \(\mathbb{R}[X]\).
        \item For any ring \(R\) and for any \(n \in \mathbb{N}\), the set of all square \(n\)-by-\(n\) matricies with entries from \(R\), forms a ring with matrix addition and matrix multiplication as operations. If \(n = 1\), this matrix ring is isomorphic to \(R\) itself. For \(n > 1\) (and \(R\) not a zero ring), this matrix is noncommutative. More concretely, \(\text{Mat}_{3 \times 3}(\mathbb{R})\) is a noncommutative ring. 
    \end{enumerate}
\end{example}

\section{No idea yet}

\begin{definition}[Fractional Ideal]
    Let \(A\) be an {\color{mathif}integral domain}.
    \begin{enumerate}
        \item A {\color{maththen}fractional ideal} of \(A\) is an {\color{mathif}\(A\)-submodule} \(I \subset \text{Quot}(A)\) such that \(d I \subset A\) for some {\color{mathrem}denominator} \(d \in A \setminus \{0\}\).
        \item A {\color{maththen}principal fractional ideal} is a {\color{mathif}fractional ideal} of the form \((r) = rA = \{ar \mid a \in A\}\)
    \end{enumerate}
\end{definition}

\begin{example}
    \begin{itemize}
        \item All ordinary ideals \(I \subset A\) are also fractional ideals with denominator \(d = 1\), and are often referred to as {\color{mathrem}integral ideals}.
        \item The subset
        \begin{equation}
            \frac{3}{25}\mathbb{Z} = \left\{\, \frac{3n}{25} \in \mathbb{Q} \,\middle|\, n \in \mathbb{Z} \,\right\} \subset \mathbb{Q}
        \end{equation}
        is a principal fractional ideal of \(\mathbb{Z}\)
    \end{itemize}
\end{example}

\begin{example}
    The subset
    \begin{equation}
        \mathbb{Z}\left[\frac{1}{2}\right] = \left\{\, a_0 + a_1 \frac{1}{2} + a_2 \frac{1}{2^2} + \dots + a_n \frac{1}{2^n} \,\middle|\, a_0, \dots, a_n \in \mathbb{Z} \subset \mathbb{Q} \,\right\}
    \end{equation}
    is not a fractional ideal, because the denominators are not bounded.
\end{example}

\begin{lemma}
    If \(I \subset \text{Quot}(A)\) is an \(A\)-submodule and \(d \in \text{Quot}(A)\), then \(dI \subset \text{Quot}(A)\) is also an \(A\)-module. Thus \(I \subset K\) is a fractional ideal if and only if \(I = \frac{1}{d} J\) for some \(d \in A \setminus \{0\}\) and some integral ideal \(J \subset A\) (just take \(d\) a denominator of \(I\) and \(J = dI\)).
\end{lemma}

\begin{lemma}
    Let \(A\) be an integral domain and denote its field of fraction with \(\text{Quot}(A) = K\).
    \begin{enumerate}
        \item If \(I \subset K\) is a finitely generated \(A\)-submodule, then \(I\) is a fractional ideal.
        \item Conversely, if \(A\) is noetherian and \(I \subset K\) is a fractional ideal, then \(I\) is a finitely generated \(A\)-module.
        \item If \(I, J \subset K\) are fractional ideals, then \(I \cap J, I + J, IJ, \subset K\) are also fractional ideals.
        \item If \(I, J \subset K\) are fractional ideals and \(J \neq {0}\), then the generalized ideal quotient
        \begin{equation}
            (I : J) := \{\, x \in K \, \mid \, xJ \subset I \,\}
        \end{equation}
        is also a fractional ideal. Moreover, it satisfies \((I : J)J \subset I\).
    \end{enumerate}
\end{lemma}
% proof

The nonzero fractional ideals form an abelian semigroup with neutral element \(A\) with respect to the multiplication. We will now show that, if \(A\) is a Dedekind domain, every nonzero fractional ideal has an inverse hence they forme an abelian group \(Id (A)\).

\begin{definition}
    Let \(A\) be an {\color{mathif}integral domain}. A {\color{mathif}fractional ideal} \(I \subset K\) is {\color{maththen}invertible} if \(IJ = A\) for some fractional ideal \(J\) called the {\color{mathrem}inverse} of \(I\).
\end{definition}

The following result shows characterizes invertible fractional ideals and their inverses (which are unique).

\begin{lemma}
    A fractional ideal \(I\) is invertible if and only if \(I (A : I) = A\), in which case \(I^{-1} := (A : I)\) is the unique inverse.
\end{lemma}

% proof

The main result of this section is to prove that, in a Dedekind domain, every nonzero ideal is invertible. To this aim we need first a technical result.

\begin{lemma}
    Let \(A\) be a {\color{mathif}Dedekind domain} and \(I \subset A\) a {\color{mathif}nonzero integral ideal}. Then there are not necessarily distinct {\color{maththen}nonzero prime ideals} \(\mathfrak{p}_1, \dots, \mathfrak{p}_n \subset A\) such that \(\mathfrak{p}_1 \cdot \dots \cdot \mathfrak{p}_n \subset I\).
\end{lemma}

% proof

Let
\begin{equation}
    \Sigma = \{\, I \neq \{0\} \, \mid \, I \subset A \text{ ideal. \(I\) does not contain any product of nonzero prime ideals.} \, \} \text{.}
\end{equation}

If \(\Sigma \neq \varnothing\), let \(I \in \Sigma\) be a maximal element which must exist since \(A\) is noetherian. In particular, \(I\) is not prime, i.e. there exists \(a, b \in A \setminus I\) with \(a \cdot b \in I\). % why is I not prime?

Because of the maximility of \(I\), the ideals \(I + (a), I + (b) \supsetneq I\) don't lie in \(I\), i.e. there exists nonzero prime ideals \(\mathfrak{p}_1, \dots, \mathfrak{p}_n, \mathfrak{q}_1, \dots, \mathfrak{q}_m\) such that
\begin{align}
    \mathfrak{p}_1, \dots, \mathfrak{p}_n &\subseteq I + (a) \\
    \mathfrak{q}_1, \dots, \mathfrak{q}_n &\subseteq I + (b) \text{.}
\end{align}
We have
\begin{equation}
    \mathfrak{p}_1 \cdot \dots \cdot \mathfrak{p}_n \cdot \mathfrak{q}_1 \cdot \dots \cdot \mathfrak{q}_m \subseteq (I + (a))(I + (b)) \subseteq I
\end{equation}
which is a contradiction. Hence \(\Sigma = \varnothing\).

\begin{theorem}
    Let \(A\) be a Dedekind domain, \(I\) a nonzero ideal, and \(\mathfrak{p}\) a prime ideal such that \(I \subseteq \mathfrak{p}\). Set
    \begin{equation}
        \mathfrak{p}^{-1} := (A : \mathfrak{p}) = \{x \in \text{Quot}(A) \mid x \mathfrak{p} \subseteq A\} \text{.}
    \end{equation}
    Then, \(I \subsetneq \mathfrak{p}^{-1} I \subseteq A\). In particular, \(A \subsetneq \mathfrak{p}^{-1}\) and \(\mathfrak{p}^{-1}\mathfrak{p} = A\), i.e. \(\mathfrak{p}\) is invertible.
\end{theorem}

\begin{corollary}
    Let \(A\) be a Dedekind domain and
    \begin{equation}
        Id(A) = \{I \subseteq K \mid I \text{ is a nonzero fractional ideal.}\} \text{.}
    \end{equation}
    \begin{enumerate}
        \item Every nonzero fractional ideal \(I \in Id(A)\) is invertible. In particular, \(Id(A)\) is an abelian group with respect to the product of ideals, and the trivial ideal \((1) = A\) as neutral element.
        \item Moreover, the map
        \begin{equation}
            \varphi: K^* \rightarrow Id(A), \quad \frac{a}{b} \mapsto \left(\frac{a}{b}\right) = \left\{\frac{ac}{b} \middle| c \in A \right\} \subseteq K \text{,}
        \end{equation}
        is a group homomorphism, whose image is the subgroup \(P_A\) of nonzero principal fractional ideals.
    \end{enumerate}
\end{corollary}

\begin{definition}
    The {\color{maththen}(ideal) class group} of a {\color{mathif}Dedekind domain} \(A\) is the quotient \(Cl(A) = Id(A) / P_A\) which is naturally an abelian group.
\end{definition}

\end{document}