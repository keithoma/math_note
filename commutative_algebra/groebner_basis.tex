\documentclass{book}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

% page layout
\usepackage{geometry}
    \geometry{
        a4paper,
        total={170mm,257mm},
        left=20mm,
        top=20mm,
    }

\usepackage{amsthm}

\theoremstyle{plain}
\newtheorem{thm}{Theorem}[chapter] % reset theorem numbering for each chapter
\newtheorem{lmm}{Lemma}
\newtheorem{prps}{Proposition}

\theoremstyle{definition}
\newtheorem{exmp}[thm]{Example} % same for example numbers
\newtheorem{exr}[thm]{Exercise}

\newtheoremstyle{custom_definition}% name of the style to be used
  {\topsep} % measure of space to leave above the theorem. E.g.: 3pt
  {\topsep} % measure of space to leave below the theorem. E.g.: 3pt
  {\normalfont} % name of font to use in the body of the theorem
  {} % measure of space to indent
  {\bfseries} % name of head font
  {.\newline} % punctuation between head and body
  {\topsep}% space after theorem head; " " = normal interword space
  {\thmname{#1}\thmnumber{ #2} --- \thmnote{#3}} % Manually specify head

\theoremstyle{custom_definition}
\newtheorem{defn}[thm]{Definition} 

\usepackage{amssymb}
\usepackage{amsmath}

\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{%
  matrix,%
  calc,%
  arrows%
}

%%%%%
\newcommand{\set}[1]{\left\{\, #1 \,\right\}}
\newcommand{\makeset}[2]{\left\{\, #1 \mathrel{\mid} #2 \,\right\}}


\newcommand{\Ker}[1]{ \mathrm{Ker} \left( #1 \right) }
\newcommand{\Coker}[1]{ \mathrm{Coker} \left( #1 \right) }
\newcommand{\Imag}[1]{ \mathrm{Im} \left( #1 \right)}

\newcommand{\bigslant}[2]{{\raisebox{.2em}{$#1$}\left/\raisebox{-.2em}{$#2$}\right.}}

\newcommand{\restr}[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}

\begin{document}
\begin{defn}[Gröbner Basis]
A Gröbner basis \(G\) of an ideal \(I\) in a polynomial ring over a field is a generating set of \(I\) characterized by any one of the following properties
\begin{itemize}
    \item the ideal generated by the leading terms of polynomials in \(I\) equals the ideal generated by the leading terms of \(G\);
    \begin{exmp}
        Consider \(p_1 = y - x^2\) and \(p_2 = z - x^3\). Set \(I := (p_1, p_2)\).
        \begin{enumerate}
            \item Under the lexicographic ordering \(y > z > x\), \(G := \{p_1, p_2\}\) forms a Gröbner basis. The ideal generated by the leading terms of \(G\) is
            \begin{align}
                (\mathrm{LT}(p_1), \mathrm{LT}(p_2)) = (y, z) \text{.}
            \end{align}
            On the other hand, % basically cannot be canceled.
            \item However, if we choose the lexicographic ordering \(x > y > z\), then \(\{p_1, p_2\}\) is not a Gröbner basis. The ideal generated by the leading terms of \(G\) is
            \begin{align}
                (\mathrm{LT}(p_1), \mathrm{LT}(p_2)) = (-x^2, -x^3) = (x^2) \text{.}
            \end{align}
            But \(x \cdot p_1 - p_2 \in I\) and it is
            \begin{align}
                x \cdot p_1 - p_2 = -x^3 + xy + x^3 - z = xy - z
            \end{align}
            which is clearly not included in \((x^2)\).
        \end{enumerate}
    \end{exmp}
    \item the leading term of any polynomial in \(I\) is divisible by the leading term of some polynomial in \(G\);
    \begin{exmp}
        Again, consider \(p_1 = y - x^2\) and \(p_2 = z - x^3\). Set \(I := (p_1, p_2)\).
        \begin{enumerate}
            \item Again, under the lexicographic ordering \(y > z > x\), the leading terms of the polynomials in \(G = \{p_1, p_2\}\) are \(\{y, z\}\). With similar reasoning as above, \(G\) forms a Gröbner basis.
            \item But if the lexicographic ordering is \(x > y > z\), then the leading polynomials in \(\{p_1, p_2\}\) are ... the same as above.
        \end{enumerate}
    \end{exmp}
    \item the multivariate division of any polynomial in the polynomial ring \(R\) by \(G\) gives unique remainder;
    \begin{exmp}
        Consider \(p_1 = y - x^2\) and \(p_2 = z - x^3\). Set \(I := (p_1, p_2)\).
        \begin{enumerate}
            \item I have no idea why this would make it a Gröbner basis.
            \item If the lexicographic ordering is \(x > y > z\), then 
        \end{enumerate}
    \end{exmp}
    \item the multivariate division by \(G\) of any polynomial in the ideal \(I\) gives the remainder \(0\).
    \begin{exmp}
        Consider \(p_1 = y - x^2\) and \(p_2 = z - x^3\). Set \(I := (p_1, p_2)\).
        \begin{enumerate}
            \item If the lexicographic ordering is \(x > y > z\), then \(x \cdot p_1 - p_2 = xy - z \in I\), but it is not divisible by \(G\).
        \end{enumerate}
    \end{exmp}
\end{itemize}
\end{defn}
\end{document}